<!DOCTYPE html>
<html lang="sv">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AI Kundtjänst</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
</head>

<body data-theme="dark">
  <div class="app">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="logo">
        <i class="fas fa-robot"></i>
        <h1>AI Kundtjänst</h1>
      </div>

      <nav class="nav">
        <a href="#inbox" class="nav-item active" data-page="inbox">
          <i class="fas fa-inbox"></i>
          <span>Inbox</span>
        </a>
        <a href="#chat" class="nav-item" data-page="chat">
          <i class="fas fa-comments"></i>
          <span>Chat</span>
        </a>
        <a href="#tickets" class="nav-item" data-page="tickets">
          <i class="fas fa-ticket-alt"></i>
          <span>Tickets</span>
        </a>
        <a href="#settings" class="nav-item" data-page="settings">
          <i class="fas fa-cog"></i>
          <span>Inställningar</span>
        </a>
      </nav>

      <div class="sidebar-footer">
        <button id="themeToggle" class="btn btn-secondary">
          <i class="fas fa-moon"></i>
          <span>Byt tema</span>
        </button>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Header -->
      <header class="header">
        <h2 id="pageTitle">Inbox</h2>
        <div class="header-actions">
          <button class="btn btn-primary" id="newTicketBtn">
            <i class="fas fa-plus"></i> Ny Ticket
          </button>
          <div class="user-menu">
            <span id="userName">Användare</span>
            <i class="fas fa-user-circle"></i>
          </div>
        </div>
      </header>

      <!-- Inbox Page -->
      <section id="inbox-page" class="page active">
        <div class="filters">
          <input type="search" id="searchTickets" placeholder="Sök tickets..." class="search-input">
          <select id="statusFilter" class="filter-select">
            <option value="">Alla status</option>
            <option value="open">Öppen</option>
            <option value="pending">Väntar</option>
            <option value="solved">Löst</option>
            <option value="closed">Stängd</option>
          </select>
        </div>

        <div class="tickets-container">
          <ul id="inboxTicketsList" class="tickets-list">
            <!-- Tickets läses in här dynamiskt -->
            <li class="ticket-item">
              <div class="ticket-header">
                <span class="ticket-id">#DEMO-001</span>
                <span class="ticket-status status-open">Öppen</span>
              </div>
              <h3 class="ticket-subject">Välkommen till AI Kundtjänst!</h3>
              <p class="ticket-preview">Detta är en demo-ticket. Börja genom att skapa nya tickets eller chatta med AI.
              </p>
              <div class="ticket-meta">
                <span><i class="fas fa-clock"></i> 2 min sedan</span>
                <span><i class="fas fa-tag"></i> demo</span>
              </div>
            </li>
          </ul>
        </div>
      </section>

      <!-- Chat Page -->
      <section id="chat-page" class="page">
        <div class="chat-container">
          <div class="chat-messages" id="chatMessages">
            <div class="message ai-message">
              <div class="message-avatar">
                <i class="fas fa-robot"></i>
              </div>
              <div class="message-content">
                <p>Hej! Jag är din AI-assistent. Hur kan jag hjälpa dig?</p>
                <span class="message-time">Nu</span>
              </div>
            </div>
          </div>

          <div class="chat-input-container">
            <textarea id="chatInput" placeholder="Skriv ditt meddelande..." rows="3"></textarea>
            <button id="sendChatBtn" class="btn btn-primary">
              <i class="fas fa-paper-plane"></i> Skicka
            </button>
          </div>
        </div>
      </section>

      <!-- Settings Page -->
      <section id="settings-page" class="page">
        <div class="settings-container">
          <h3>Säkerhet</h3>
          <div class="settings-section">
            <button id="setup2faBtn" class="btn btn-secondary">
              <i class="fas fa-shield-alt"></i> Aktivera 2FA
            </button>
            <p class="help-text">Tvåfaktorsautentisering ökar säkerheten för ditt konto</p>
          </div>

          <h3>Preferenser</h3>
          <div class="settings-section">
            <label class="checkbox-label">
              <input type="checkbox" id="aiEnabledCheckbox" checked>
              <span>Aktivera AI-assistans</span>
            </label>

            <label class="checkbox-label">
              <input type="checkbox" id="autoAssignCheckbox">
              <span>Automatisk tilldelning av tickets</span>
            </label>
          </div>

          <h3>Notifikationer</h3>
          <div class="settings-section">
            <label class="checkbox-label">
              <input type="checkbox" id="emailNotifications" checked>
              <span>E-postnotifikationer</span>
            </label>

            <label class="checkbox-label">
              <input type="checkbox" id="desktopNotifications">
              <span>Desktop-notifikationer</span>
            </label>
          </div>
        </div>
      </section>
    </main>

    <!-- Onboarding Wizard -->
    <div id="onboarding" class="onboarding" style="display:none;">
      <div class="onboarding-content" id="onboarding-content">
        <h2>Välkommen!</h2>
        <p>Steg 1: Logga in</p>
        <p>Steg 2: Starta chat</p>
        <button id="closeOnboarding">Stäng</button>
      </div>
    </div>

    <!-- Toast Notifications (läggs till dynamiskt) -->
    <div id="toastContainer" class="toast-container"></div>
  </div>

  <script src="script.js"></script>
</body>

</html>