<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AI Kundtjänst</title>

  <link rel="stylesheet" href="style.css" />
  <script src="https://kit.fontawesome.com/a2d9d5b5f5.js" crossorigin="anonymous"></script>
</head>

<body data-theme="dark">

  <div class="topbar">
    <div class="brand">
      <div class="logo"><i class="fa-solid fa-headset"></i></div>
      <div>
        <div class="brandTitle">AI Kundtjänst</div>
        <div class="brandSub" id="roleBadge">Inte inloggad</div>
      </div>
    </div>

    <div class="topActions">
      <button class="iconBtn" id="themeToggle" title="Växla tema">
        <i class="fa-solid fa-moon"></i>
      </button>
      <button class="btn danger" id="logoutBtn" style="display:none;">
        <i class="fa-solid fa-right-from-bracket"></i> Logga ut
      </button>
    </div>
  </div>

  <main class="layout">

    <!-- AUTH -->
    <section id="authView" class="card authCard">
      <h2>Logga in</h2>
      <p class="muted">Använd ditt konto för att starta chatten.</p>

      <div class="field">
        <label>Användarnamn</label>
        <input id="username" type="text" placeholder="t.ex. leo" />
      </div>

      <div class="field">
        <label>Lösenord</label>
        <div class="pwRow">
          <input id="password" type="password" placeholder="••••••••" />
          <button id="togglePw" class="iconBtn" type="button" title="Visa lösenord">
            <i class="fa-solid fa-eye"></i>
          </button>
        </div>
      </div>

      <div class="row">
        <button class="btn primary" id="loginBtn"><i class="fa-solid fa-arrow-right-to-bracket"></i> Logga in</button>
      </div>

      <div class="divider"></div>

      <h3>Registrera</h3>
      <div class="field">
        <label>Email</label>
        <input id="email" type="email" placeholder="exempel@mail.com" />
      </div>

      <div class="row">
        <button class="btn secondary" id="registerBtn"><i class="fa-solid fa-user-plus"></i> Registrera</button>
      </div>

      <div class="divider"></div>

      <button class="linkBtn" id="openForgotBtn">
        <i class="fa-solid fa-key"></i> Glömt lösenord?
      </button>

      <p id="authMessage" class="alert" style="display:none;"></p>
    </section>

    <!-- FORGOT PASSWORD -->
    <section id="forgotView" class="card authCard" style="display:none;">
      <h2>Återställ lösenord</h2>
      <p class="muted">Skriv ditt användarnamn så skickar vi en reset-länk till din email.</p>

      <div class="field">
        <label>Användarnamn</label>
        <input id="forgotUsername" type="text" placeholder="t.ex. leo" />
      </div>

      <div class="row">
        <button class="btn primary" id="sendResetBtn"><i class="fa-solid fa-paper-plane"></i> Skicka länk</button>
        <button class="btn secondary" id="backToLoginBtn"><i class="fa-solid fa-arrow-left"></i> Tillbaka</button>
      </div>

      <p id="forgotMessage" class="alert" style="display:none;"></p>
    </section>

    <!-- RESET PASSWORD -->
    <section id="resetView" class="card authCard" style="display:none;">
      <h2>Välj nytt lösenord</h2>
      <p class="muted">Skriv ett nytt lösenord och bekräfta.</p>

      <div class="field">
        <label>Nytt lösenord</label>
        <div class="pwRow">
          <input id="resetPassword" type="password" placeholder="Minst 6 tecken" />
          <button id="toggleResetPw" class="iconBtn" type="button" title="Visa lösenord">
            <i class="fa-solid fa-eye"></i>
          </button>
        </div>
      </div>

      <div class="row">
        <button class="btn primary" id="resetSubmitBtn"><i class="fa-solid fa-floppy-disk"></i> Spara lösenord</button>
        <button class="btn secondary" id="resetCancelBtn"><i class="fa-solid fa-xmark"></i> Avbryt</button>
      </div>

      <p id="resetMessage" class="alert" style="display:none;"></p>
    </section>

    <!-- CHAT -->
    <section id="chatView" class="chatGrid" style="display:none;">
      <aside class="sidebar card">
        <h3>Kategori</h3>
        <select id="categorySelect" class="select">
          <option value="demo">Demo AB</option>
          <option value="law">Juridik</option>
          <option value="tech">Teknik</option>
          <option value="cleaning">Städservice</option>
        </select>

        <div class="divider"></div>

        <button class="btn secondary" id="exportChatBtn"><i class="fa-solid fa-file-export"></i> Exportera chatt</button>
        <button class="btn secondary" id="clearChatBtn"><i class="fa-solid fa-trash"></i> Rensa chatt</button>

        <div class="divider"></div>
        <div class="muted small">
          Tips: Byt kategori för att ändra AI:ns “personlighet”.
        </div>
      </aside>

      <div class="chat card">
        <div class="chatHeader">
          <div>
            <div class="chatTitle" id="chatTitle">AI Kundtjänst – Demo AB</div>
            <div class="chatSub" id="chatSubtitle">Ställ en fråga så hjälper jag dig direkt.</div>
          </div>
        </div>

        <div class="messages" id="messages"></div>

        <div class="composer">
          <input id="messageInput" type="text" placeholder="Skriv ditt meddelande..." />
          <button class="btn primary" id="sendBtn"><i class="fa-solid fa-paper-plane"></i></button>
        </div>
      </div>
    </section>

  </main>

  <script src="script.js"></script>
</body>
</html>
